# もう怖くないLinuxコマンド。手を動かしながらLinuxコマンドラインを5日間で身に付けよう

## 01 コースについて

- コースの特徴
  - Linuxの仕組みや考え方を学ぶ
  - 実際に手を動かしながら習得する

- 講座の対象
  - Linuxをこれから学びたいと考えている方
  - コマンドラインでの操作が苦手でこれからできるようになりたいと考えている方

---

## 02 Linuxとは

LinuxはOSの一種  
コンピュータを動かすための基本ソフト  
サーバ用、組み込み用など幅広い用途で使われている  

- 主なOSの種類
  - Windows
  - Mac OS X
  - Android
  - Linux

### Linuxの歴史

- 1970年頃
  - UnixというOSが誕生
  - シンプルな小さいOSで大学や研究所を中心に普及
  - 有料。ライセンス縛りも厳しい
- 1985年頃
  - オープンソース版のUnixを開発するプロジェクトがスタート
  - ソースコードも公開されていたので、様々な派生版のUnixが誕生
- 1991年頃
  - 当時大学生のりーナス・トーパルズがLinuxを開発しオープンソース化
  - Unixを真似て、いちからOSを作る
  - 最終的に最も普及
- 有料のUnixが、Linuxという形で、無料で使えるようになった

### Linuxはどこで使われているのか

- サーバ
- 組み込み
- デスクトップ

### Linuxの特徴と欠点

- 特徴
  - オープンソースなので誰でも自由に使える
  - 世界中で使われていて信頼性が高い
  - 品質の高い多くのソフトウェアが利用できる
  - 自動化するための仕組みがあり、サーバの運用が行いやすい
- 欠点
  - 商用アプリケーションがあまり存在しない
    - マイクロソフトオフィスが動作しない
    - 画像、音楽、動画などのマルチメディア系ファイルを編集するのが苦手
  - 日本語対応されていない部分が多い

### <02 まとめ>

- LinuxとはOSがの一種で、コンピュータを動かすための基本ソフト
- 1991年にリーナス・トーパルズがUnixをベースに一から開発
- 現在では大変普及しており、サーバ、組み込み、デスクトップといった幅広い用途で使われている
- 特徴
  - オープンソースなので誰でも自由に使える
  - 品質の高い多くのソフトウェアが利用できる
- 欠点
  - 商用アプリケーションがあまり存在しない
  - 日本語対応されていない部分が多い

---

## 03 なぜLinuxを学ぶのか

Linuxは枯れている技術であり、何年たっても使える技能を得ることができる

- 幅広い場所で使われている
  - サーバ用
  - 組み込み器用
- 長年使える
  - Linuxの技術は長い時間をかけて多くのユーザに検証された結果、大きく変更する必要がなくなっている
  - 技術が枯れている
  - 一度習得すれば何年たっても使える

---

## 04 Linuxディストリビューションとは

- カーネル  
  - OSの中核となるソフトウェア
- ディストリビューション  
  - カーネルにいろいろなソフトウェアを組み合わせて使いやすくしたもの
  - 1,000種類以上あり、独自のコミュニティが開発している
    - Red Hat系
      - Red Hat Enterprise Linux
      - CentOS・・・本講座で使用 無償で手に入り情報も豊富
      - Fedora
    - Debian系
      - Debian GNU/Linux
      - Ubuntu

### <04 まとめ>

- カーネルはOSの中核となるソフトウェア
- ディストリビューションはカーネルに色々なソフトウェアを組み合わせて使いやすくしたもの
- ディストリビューションは1,000種類以上あり、独自のコミュニティが開発している
- Red Hat系とDebian系が主流

---

## 05 シェルとは

LinuxのCLIを提供するソフトウェア  
ユーザとLinuxカーネルの仲介役（カーネルのインターフェイス）をしている  
※CLIとは、キーボードからコマンドを入力し、文字列として結果を出力するインターフェイス

### シェルの画面

ユーザー名、ホスト名、プロンプトがシェルでは表示されている  
プロンプトは「コマンド入力を待ってるから、コマンド入力していね」というシェルが待っている記号

```bash
[yamaura@localhost ~] $
```

### シェルの仕組み

コマンドを入力すると実行結果が出力される  

1. ユーザがプロンプトにコマンドを打つ
2. シェルが入力された名前のコマンドを探す
3. Linuxカーネルが見つかったコマンドを実行する
4. シェルが実行結果を画面に表示する

プロンプトの「$」は入力してなくてよい  
ユーザが打ち込む場所とコンピュータが表示してくれる場所を見分けるのに、この書き方が便利なので慣習的にかかれている  

```bash
$date

2019年8月2日 金曜日 20:39:41 UTC
```

### Linuxを操作するときはターミナルにコマンドを入力する

ターミナルは入出力の画面を提供するソフトウェア  
ターミナルとシェルは別物なので注意！  
ターミナルの中でシェルが動いている  

- ターミナルは画面を担当するソフトウェア
- シェルはコマンドを解釈するソフトウェア

### シェルの種類

- sh
  - もっとも古いシェル
  - ほぼ全てのUnixで利用できる標準的なシェル
  - 機能は少ない
- bash
  - shを基本として機能を拡張したシェル
  - Linux環境でデフォルトのログインシェル
  - 学習で使うならbashがおすすめ
- zsh
  - bashの機能を取り込み、独自の拡張も追加
  - 機能の豊富なシェル
  - 講師はzshを使用

### <05 まとめ>

- シェルはLinuxのCLIを提供するソフトウェア
- プロンプトは「コマンド入力を待ってるから、コマンド入力してね」というシェルが待っている記号
- ターミナルは入出力の画面を提供するソフトウェア。ターミナルとシェルは別物なので注意
- シェルの種類には、sh、bash、zshなどがある
- カーネルとシェルが分かれていたり、シェルとターミナルが分かれているように、Linuxは「1つのプログラムには1つのことをうまくやらせる」「色々な機能をできるだけ細かく切り分けて作る」という設計思想がある

---

## 06 VirtualBoxをインストールしよう

### Linux環境を用意する

コンピュータ上に仮想マシンを構築できるVirtualBoxを利用して、学習用のLinux環境を用意する  

### VirtualBoxのインストール手順

- インストール手順
  1. Oracle VM VirtualBoxのインストール
     <https://www.virtualbox.org/>  
  2. CentOSのイメージファイルのダウンロード
     <https://www.centos.org/>  
     DVDISOファイルをDL  
     JPとあるところのミラーから落とす（とても重い）  
  3. Oracle VM VirtualBoxで仮想マシンを作成
  4. 仮想マシンを起動し、CentOSをインストール

>MacにUbuntu入れて動かすことにしたのでこちらの手順は対応しなかった

---

## 07 コマンドを打ってみよう

### 今回学ぶこと

- VirtualBoxの画面を拡大して表示
- dateコマンドで現在時刻を表示

### dateコマンド

現在時刻を表示させるコマンド

```bash
$date
```

---

## 08 シェルの便利機能

### カーソルの移動

| コマンド | 内容 |
| :--- | :--- |
| Command + f | 一文字次へ移動 |
| Command + b | 一文字前へ移動 |
| Command + a | 行の先頭に移動 |
| Command + e | 行の最後に移動 |
| Meta + f(esc + f) | 一単語次へ移動 |
| Meta + b(esc + b) | 一単語前へ移動 |

### 文字列の編集

| コマンド | 内容 |
| :--- | :--- |
| Command + h | カーソルの左を一文字削除 |
| Command + d | カーソル部分を一文字削除 |
| Command + w | カーソル位置の単語を削除（カーソルの前部分） |
| Command + u | カーソルの位置から行頭まで削除 |
| Command + k | カーソルの位置から行末まで削除 |
| Command + y | 最後に削除した内容を挿入 |

### トラブル時の対応

| コマンド | 内容 |
| :--- | :--- |
| Command + c | 実行中のコマンドを強制終了 |
| Command + l | 画面の消去。文字化けした時のクリアにも使える |
| Command + s | 画面表示のロック（キーボードから文字の入力を受け付けない） |
| Command + q | 画面表示のロックの解除 |

### 補完・コマンド履歴

| コマンド | 内容 |
| :--- | :--- |
| Tab | コマンドやパスの補完 |
| Command + p、または↑キー | 一つ前の履歴を見る |
| Command + n、または↓キー | 一つ後ろの履歴を見る |
| Command + r | コマンド履歴のインクリメンタル検索 |
| 文字の入力 | コマンド履歴から検索 |
| Command + r | 一つ前の検索結果へ移動 |
| Enterキー | 現在の検索結果を実行 |
| Escキー | 現在の検索結果を表示したままコマンドラインに戻る |
| Command + g | 検索結果を破棄し、コマンドラインに戻る |

---

## 09 Day1のまとめ

### できるようになったこと

- Linuxの概要を理解
- Linuxディストリビューションについて理解
- シェルの概要を理解
- Linux環境を構築し、コマンドを実行できるようになった
- シェルでのショートカットによる時間短縮

### やってみよう

- ターミナルで次のコマンドを実行してください。端末が沈黙するので、Command + Cでコマンドの実行を中止してください。

  ```bash
  # 100秒間停止させるコマンド
  $sleep 100
  ```

- ターミナルで次のコマンドを実行して、カレンダーを表示させてください。
  
  ```bash
  # 2019年のカレンダーを表示させる
  $cal 2019

  # 2019年1月のカレンダーを表示させる
  $cal 1 2019
  ```

- calコマンドを使って①2020年12月25日の曜日を調べてください。②西暦20000年7月1日の曜日を調べてください。
  
  ```bash
  # ①の入力内容
  $cal 12 2020

  # ②の入力内容（しかしエラーが出る　正しい）
  $cal 7 20000
  ```

---

## 10 Day2のゴール

### Day2.ディレクトリを操作しよう

- Day2のゴール
- ディレクトリを操作してみよう
- ディレクトリの構造を学ぼう
- 【cdコマンド】ディレクトリを移動しよう
- 【pwdコマンド】カレントディレクトリを表示しよう
- 【lsコマンド】ディレクトリの中身を表示しよう
- 【mkdirコマンド】ディレクトリを作成しよう
- 【rmdirコマンド】ディレクトリを削除しよう
- パスについて学ぼう

### Day2のゴール

- Linuxでデータを格納する仕組み（ディレクトリ）を理解すること
- ディレクトリをコマンドを使って操作できるようになること
  - 【cdコマンド】ディレクトリの移動
  - 【pwdコマンド】カレントディレクトリの表示
  - 【lsコマンド】ディレクトリの中身の表示
  - 【mkdirコマンド】ディレクトリの作成
  - 【rmdirコマンド】ディレクトリの削除

---

## 11 ディレクトリを操作してみよう

まずさわってみる

```bash

# スラッシュディレクトリに移動
$cd /

# 今いるディレクトリを調べる
$pwd

# ディレクトリの中を確認する
$ls

# homeディレクトリへ移動
$cd home

# 今いるディレクトリを調べる
$pwd

# homeディレクトリの中を確認する
$ls
```

---

## 12 ディレクトリの構造を学ぼう

### ディレクトリってなに

ディレクトリはファイルが保存されている場所  
WindowsやMacのフォルダと同じ概念  
ディレクトリは入れ子構造になっている  

### Linuxのディレクトリ構造

ルートディレクトリを頂点とした階層構造になっている。  
これを「ディレクトリーツリー（木の根っ子）」と呼ぶ。  
一番上の「/」をルートディレクトリと呼ぶ。

### Windowsとの違い

Windowsはドライブから入れ子構造が始まる。  
Linuxは一つのディレクトリ（/）から始まる。  

- Windows：ディスクが2つあると、2つのディレクトリーツリーができる
- Linux：複数ディスクがあると、ルートディレクトリ配下にディレクトリとしてくっつける。この操作を「マウント」と呼ぶ。  

### 主要なディレクトリの役割

- /bin（スラッシュビン）
  - 一般ユーザおよび管理ユーザの両方が使用するコマンドの実行ファイルを格納
  - 特にLinuxの動作に最低限必要な重要度の高いコマンドの実行ファイルを格納
- /dev（スラッシュデブ）
  - デバイスファイル（ハードウェアをファイルとして扱えるようにしたファイル）を格納
- /etc（スラッシュエトセ）
  - 設定ファイルを格納
  - Linuxで動作するアプリケーションの設定ファイルや、Linux自体の設定に関わるファイルが置かれている
- /home（スラッシュホーム）
  - ホームディレクトリ（Linuxのユーザごとに割り当てられる個人用ディレクトリ）が配置される
  - ユーザーはホームディレクトリ内に自由にファイルやディレクトリを作成できる
- /sbin（スラッシュエスビン)
  - 管理者ユーザ向けのコマンドの実行ファイルを格納
- /tmp（スラッシュテンプ）
  - 一時的なファイルを格納
  - アプリケーションの実行中に結果を一時的にファイルとして保存する場合に使用
- /usr（スラッシュユーザ）
  - 各種アプリケーションと、それに付随するファイルを格納
- /var（スラッシュバー）
  - 変化するデータを格納
  - アプリケーションを動作する上で作成されたログなどを格納

### まとめ

- ディレクトリはファイルが保存されている場所
- ルートディレクトリを頂点とした階層構造になっていて、「ディレクトリーツリー」と呼ぶ
- 一番上の「/」をルートディレクトリと呼ぶ
- Windowsはドライブから入れ子構造が始まるのに対して、Linuxは一つのディレクトリ（/)から始まる
- ディレクトリごとに役割がある
  
---
